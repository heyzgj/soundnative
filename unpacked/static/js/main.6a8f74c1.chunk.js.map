{"version":3,"sources":["api/deepseek.js","firebase/config.js","firebase/auth.js","components/Logout.js","components/MainApp.js","components/LoginPage.js","components/LoadingScreen.js","App.js","index.js"],"names":["apiKey","process","baseURL","console","log","app","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAnalytics","getAuth","db","getFirestore","window","location","hostname","connectAuthEmulator","connectFirestoreEmulator","logoutUser","async","signOut","error","Logout","_jsx","Button","color","onClick","children","MainApp","_ref","user","inputText","setInputText","useState","outputText","setOutputText","mode","setMode","userName","setUserName","copySuccess","setCopySuccess","loading","setLoading","useEffect","displayName","email","_jsxs","Container","maxWidth","sx","height","overflow","AppBar","position","background","Toolbar","Typography","variant","component","flexGrow","fontFamily","fontWeight","Box","display","flexDirection","alignItems","paddingRight","marginTop","my","p","boxShadow","borderRadius","backgroundColor","margin","minHeight","gutterBottom","TextField","label","multiline","fullWidth","rows","value","onChange","e","target","FormControl","InputLabel","id","Select","labelId","MenuItem","messages","role","content","response","axios","post","concat","model","stream","headers","data","choices","message","fetchChatCompletion","gtag","event_category","event_label","length","mb","Paper","className","mt","justifyContent","width","CircularProgress","size","ml","IconButton","handleCopy","navigator","clipboard","writeText","then","bottom","right","ContentCopyIcon","Snackbar","open","autoHideDuration","onClose","handleCloseSnackbar","LoginPage","setEmail","password","setPassword","name","setName","showPassword","setShowPassword","tab","setTab","handleClickShowPassword","textAlign","Tabs","newValue","centered","Tab","onSubmit","preventDefault","userCredential","signInWithEmailAndPassword","loginUser","type","InputProps","endAdornment","InputAdornment","Visibility","VisibilityOff","Link","href","createUserWithEmailAndPassword","registerUser","Divider","startIcon","GoogleIcon","provider","GoogleAuthProvider","signInWithPopup","LoadingScreen","App","setUser","unsubscribe","onAuthStateChanged","dataLayer","push","arguments","Date","container","document","getElementById","createRoot","render","React","StrictMode"],"mappings":"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","file":"static/js/main.6a8f74c1.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst apiKey = process.env.REACT_APP_DEEPSEEK_API_KEY;\nconst baseURL = process.env.REACT_APP_DEEPSEEK_BASE_URL;\n\nconsole.log(\"API Key:\", apiKey);\nconsole.log(\"Base URL:\", baseURL);\n\nexport const fetchChatCompletion = async (messages) => {\n  try {\n    const response = await axios.post(`${baseURL}/chat/completions`, {\n      model: \"deepseek-chat\",\n      messages: messages,\n      stream: false,\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n      }\n    });\n    return response.data.choices[0].message.content;\n  } catch (error) {\n    console.error(\"Error fetching chat completion:\", error);\n    throw error;\n  }\n};","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, connectAuthEmulator } from \"firebase/auth\";\nimport { getFirestore, collection, addDoc, connectFirestoreEmulator } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA7C3GEUUGkuIFlo1ZfC4vnZOXdcuPU_MI\",\n  authDomain: \"soundnative-cf988.firebaseapp.com\",\n  projectId: \"soundnative-cf988\",\n  storageBucket: \"soundnative-cf988.appspot.com\",\n  messagingSenderId: \"602876846249\",\n  appId: \"1:602876846249:web:dc24d643d9f37cb13489b8\",\n  measurementId: \"G-FHS1NB2B9S\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst analytics = getAnalytics(app);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\n// 连接到本地模拟器\nif (window.location.hostname === 'localhost') {\n  connectAuthEmulator(auth, \"http://localhost:9099\");\n  connectFirestoreEmulator(db, 'localhost', 8080);\n}\n\nexport { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, collection, addDoc };","// src/firebase/auth.js\nimport { auth } from './config';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\n\nexport const registerUser = async (email, password) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    console.log('User registered:', userCredential.user);\n    return userCredential.user;\n  } catch (error) {\n    console.error('Error registering user:', error);\n    throw error;\n  }\n};\n\nexport const loginUser = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    console.log('User logged in:', userCredential.user);\n    return userCredential.user;\n  } catch (error) {\n    console.error('Error logging in user:', error);\n    throw error;\n  }\n};\n\nexport const logoutUser = async () => {\n  try {\n    await signOut(auth);\n    console.log('User logged out');\n  } catch (error) {\n    console.error('Error logging out user:', error);\n    throw error;\n  }\n};\n","import React from 'react';\nimport { logoutUser } from '../firebase/auth';\nimport { Button } from '@mui/material';\n\nconst Logout = () => {\n  return (\n    <Button color=\"inherit\" onClick={logoutUser}>\n      Logout\n    </Button>\n  );\n};\n\nexport default Logout; // 确保这是默认导出\n","import React, { useState, useEffect } from 'react';\nimport { fetchChatCompletion } from '../api/deepseek';\nimport Logout from './Logout';\nimport {\n  Container,\n  Box,\n  TextField,\n  MenuItem,\n  Button,\n  Typography,\n  AppBar,\n  Toolbar,\n  Select,\n  FormControl,\n  InputLabel,\n  IconButton,\n  CircularProgress,\n  Paper,\n  Snackbar,\n} from '@mui/material';\nimport { ContentCopy as ContentCopyIcon } from '@mui/icons-material';\nimport { auth } from '../firebase/config';\nimport './MainApp.css';\nimport './WixMadeforText.css'; // Include custom font\n\nconst MainApp = ({ user }) => {\n  const [inputText, setInputText] = useState('');\n  const [outputText, setOutputText] = useState('');\n  const [mode, setMode] = useState('business');\n  const [userName, setUserName] = useState('');\n  const [copySuccess, setCopySuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      setUserName(user.displayName || user.email);\n    }\n  }, [user]);\n\n  const translateText = async () => {\n    setLoading(true);\n    const systemPrompt = mode === 'business'\n      ? 'You are a professional assistant in a business environment.'\n      : mode === 'email'\n      ? 'You are writing a formal email.'\n      : mode === 'resume'\n      ? 'You are creating a professional resume.'\n      : 'You are a friendly assistant chatting casually.';\n\n    const messages = [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: inputText },\n    ];\n    try {\n      const response = await fetchChatCompletion(messages);\n      setOutputText(response);\n\n      if (window.gtag) {\n        window.gtag('event', 'translate', {\n          event_category: 'Text Translation',\n          event_label: mode,\n          value: inputText.length,\n        });\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(outputText).then(() => {\n      setCopySuccess(true);\n    });\n  };\n\n  const handleCloseSnackbar = () => {\n    setCopySuccess(false);\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ height: '100vh', overflow: 'auto' }}>\n      {/* Change AppBar color to #3a97ad */}\n      <AppBar position=\"static\" sx={{ background: '#3a97ad' }}>\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, fontFamily: 'Wix Madefor Text', fontWeight: 'bold' }}>\n            SoundNative\n          </Typography>\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', paddingRight: '10px' }}>\n            {/* <Typography variant=\"body1\">{userName}</Typography> */}\n            <Logout sx={{ marginTop: 1 }}/>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      <Box sx={{ my: 4, p: 3, boxShadow: 3, borderRadius: 2, backgroundColor: '#fff', margin: 'auto', maxWidth: '600px', minHeight: 'calc(100vh - 128px)' }}>\n        <Typography variant=\"h4\" gutterBottom>\n          老婆牌老外交流神器\n        </Typography>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          为灰灰老婆专门定制！\n        </Typography>\n        <TextField\n          label=\"老婆输入你的文本\"\n          multiline\n          fullWidth\n          rows={4}\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <FormControl fullWidth margin=\"normal\">\n          <InputLabel id=\"mode-select-label\">Mode</InputLabel>\n          <Select\n            labelId=\"mode-select-label\"\n            value={mode}\n            label=\"Mode\"\n            onChange={(e) => setMode(e.target.value)}\n          >\n            <MenuItem value=\"business\">Business</MenuItem>\n            <MenuItem value=\"casual\">Casual</MenuItem>\n            <MenuItem value=\"email\">Email</MenuItem>\n            <MenuItem value=\"resume\">Resume</MenuItem>\n          </Select>\n        </FormControl>\n        {/* Change Button color to #3a97ad */}\n        <Button variant=\"contained\" color=\"primary\" onClick={translateText} fullWidth sx={{ mb: 2, background: '#3a97ad' }}>\n          Generate\n        </Button>\n        <Paper className=\"output-box\" sx={{ mt: 2, p: 2, boxShadow: 1, borderRadius: 1, backgroundColor: '#f9f9f9', position: 'relative' }}>\n          {/* Loading animation confined to output box */}\n          {loading ? (\n            <Box className=\"loading-container\" sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px', width: '100%' }}>\n              <CircularProgress size={24} />\n              <Typography variant=\"body1\" sx={{ ml: 2 }}>Generating...</Typography>\n            </Box>\n          ) : (\n            <Box sx={{ position: 'relative' }}>\n              <Typography variant=\"body1\" sx={{ color: outputText ? 'inherit' : 'grey.500' }}>\n                {outputText || '最地道最In的英语会出现在这里'}\n              </Typography>\n            {outputText && (\n              <IconButton\n                onClick={handleCopy}\n                className=\"copy-button\"\n                sx={{ position: 'absolute', bottom: -8, right: -8 }}\n              >\n                <ContentCopyIcon />\n              </IconButton>\n            )}\n            </Box>\n          )}\n        </Paper>\n      </Box>\n      <Snackbar\n        open={copySuccess}\n        autoHideDuration={3000}\n        onClose={handleCloseSnackbar}\n        message=\"Text copied to clipboard\"\n      />\n    </Container>\n  );\n};\n\nexport default MainApp;\n","import React, { useState } from 'react';\nimport { loginUser, registerUser } from '../firebase/auth';\nimport { auth } from '../firebase/config';\nimport { GoogleAuthProvider, signInWithPopup, signOut } from 'firebase/auth';\nimport { Box, TextField, Button, Typography, Divider, Link, Container, Tabs, Tab, IconButton, InputAdornment } from '@mui/material';\nimport { Google as GoogleIcon, Visibility, VisibilityOff } from '@mui/icons-material';\nimport './LoginPage.css';\nimport './WixMadeforText.css'; // Include custom font\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [tab, setTab] = useState('login');\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      await loginUser(email, password);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    try {\n      await registerUser(email, password);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      // Sign out the current user to ensure the Google login popup is triggered\n      await signOut(auth);\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error('Error logging in with Google:', error);\n    }\n  };\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  return (\n    <Container maxWidth=\"xs\" sx={{ height: '100vh', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>\n      <Box className=\"login-box\" sx={{ textAlign: 'center', p: 3, boxShadow: 3, borderRadius: 2, width: '100%' }}>\n        <Typography variant=\"h3\" sx={{ mb: 3, fontFamily: 'Wix Madefor Text', fontWeight: 'bold', color: '#3a97ad' }}>\n          SoundNative\n        </Typography>\n        <Tabs value={tab} onChange={(e, newValue) => setTab(newValue)} centered sx={{ mb: 2 }}>\n          <Tab label=\"LOGIN\" value=\"login\" sx={{ color: tab === 'login' ? '#3a97ad' : '#000', fontWeight: 'bold', width: '50%' }} />\n          <Tab label=\"REGISTER\" value=\"register\" sx={{ color: tab === 'register' ? '#3a97ad' : '#000', fontWeight: 'bold', width: '50%' }} />\n        </Tabs>\n        {tab === 'login' && (\n          <Box component=\"form\" onSubmit={handleLogin} sx={{ textAlign: 'left', mt: 2 }}>\n            <TextField\n              type=\"email\"\n              label=\"Email\"\n              fullWidth\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n            <TextField\n              type={showPassword ? 'text' : 'password'}\n              label=\"Password\"\n              fullWidth\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPassword}\n                    >\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <Button type=\"submit\" variant=\"contained\" fullWidth sx={{ mt: 2, background: '#3a97ad', fontWeight: 'bold', color: '#fff' }}>\n              Login\n            </Button>\n            <Link href=\"#\" variant=\"body2\" sx={{ display: 'block', mt: 2, color: '#3a97ad', fontWeight: 'bold' }}>\n              Forgot password?\n            </Link>\n          </Box>\n        )}\n        {tab === 'register' && (\n          <Box component=\"form\" onSubmit={handleRegister} sx={{ textAlign: 'left', mt: 2 }}>\n            <TextField\n              type=\"text\"\n              label=\"Name\"\n              fullWidth\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n            <TextField\n              type=\"email\"\n              label=\"Email\"\n              fullWidth\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n            <TextField\n              type={showPassword ? 'text' : 'password'}\n              label=\"Password\"\n              fullWidth\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPassword}\n                    >\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <Button type=\"submit\" variant=\"contained\" fullWidth sx={{ mt: 2, background: '#3a97ad', fontWeight: 'bold', color: '#fff' }}>\n              Register\n            </Button>\n          </Box>\n        )}\n        {tab === 'login' && (\n          <Typography variant=\"body2\" sx={{ mt: 2 }}>\n            Don't have an account? <Link href=\"#\" onClick={() => setTab('register')} sx={{ color: '#3a97ad', fontWeight: 'bold' }}>Register</Link>\n          </Typography>\n        )}\n        {tab === 'register' && (\n          <Typography variant=\"body2\" sx={{ mt: 2 }}>\n            By continuing, you agree to our <Link href=\"#\" sx={{ color: '#3a97ad', fontWeight: 'bold' }}>Terms of Service</Link> & <Link href=\"#\" sx={{ color: '#3a97ad', fontWeight: 'bold' }}>Privacy Policy</Link>.\n          </Typography>\n        )}\n        <Divider sx={{ my: 2 }}>or</Divider>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          startIcon={<GoogleIcon />}\n          sx={{ mb: 2, backgroundColor: '#3a97ad', fontWeight: 'bold', color: '#fff' }}\n          onClick={handleGoogleLogin}\n        >\n          Continue with Google\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default LoginPage;\n","import React from 'react';\nimport { CircularProgress, Typography, Box } from '@mui/material';\nimport './LoadingScreen.css';\n\nconst LoadingScreen = () => {\n  return (\n    <Box className=\"loading-screen\">\n      <CircularProgress size={50} />\n      <Typography variant=\"h6\" sx={{ mt: 2, color: 'white', fontWeight: 'bold' }}>Loading...</Typography>\n    </Box>\n  );\n};\n\nexport default LoadingScreen;\n","import React, { useState, useEffect } from 'react';\nimport MainApp from './components/MainApp';\nimport LoginPage from './components/LoginPage';\nimport LoadingScreen from './components/LoadingScreen';\nimport { auth } from './firebase/config';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  return user ? <MainApp user={user} /> : <LoginPage />;\n}\n\nexport default App;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nif (process.env.NODE_ENV === 'production') {\n  window.dataLayer = window.dataLayer || [];\n  function gtag() {\n    window.dataLayer.push(arguments);\n  }\n  gtag('js', new Date());\n  gtag('config', 'G-FHS1NB2B9S');\n}\n\nconst container = document.getElementById('root');\nconst root = createRoot(container); // 使用新的 API\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}